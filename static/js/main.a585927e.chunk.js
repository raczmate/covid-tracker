(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{33:function(e,t,n){e.exports={"fullscreen-container":"Loader_fullscreen-container__32jwg","item-container":"Loader_item-container__2RJ11",loadIcon:"Loader_loadIcon__1dWoz",loadText:"Loader_loadText__bNB-O"}},42:function(e,t,n){e.exports={"covid-card":"DataCard_covid-card__PQuv1","card-shadow":"DataCard_card-shadow__3xaL7","bg-image":"DataCard_bg-image__1KdUU"}},71:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),o=n.n(r),c=n(19),s=n.n(c),i=(n(71),n(16)),l=n.n(i),d=n(27),u=n(32),b=Object(r.createContext)({Countries:null,Global:null,Date:null}),j=function(){return Object(r.useContext)(b)},h=b,m=n(41),g=n.n(m);g.a.interceptors.response.use(void 0,(function(e){return{error:e.response?e.response.data:"Sikertelen kapcsol\xf3d\xe1s",status:e.response?e.response.status:503}}));var p=g.a.create({baseURL:"https://api.covid19api.com"}),f=g.a.create({baseURL:"https://ipwhois.app/json/"}),x=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/summary");case 2:return t=e.sent,n=t.data,a=n.Countries,r=n.Global,o=n.Date,e.abrupt("return",{Countries:a,Global:r,Date:o});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get();case 2:return t=e.sent,n=t.data.country,e.abrupt("return",{country:n});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=n(33),w=n.n(y),v=n(24),C=n(23),k=n(60),S=n.n(k);var z=function(){return Object(a.jsx)("div",{className:w.a["fullscreen-container"],children:Object(a.jsx)(S.a,{children:Object(a.jsxs)("div",{className:w.a["item-container"],children:[Object(a.jsx)(v.a,{icon:C.d,size:"6x",spin:!0,className:w.a.loadIcon}),Object(a.jsx)("p",{className:w.a.loadText,children:"Adatok szinkroniz\xe1l\xe1sa folyamatban..."})]})})})},_=n(47),D=n(109),I=n(63),N=n(110),L=n(64),R=n(30);var F=function(e){var t,n=e.refreshData,r=j().Date,o=new Date(r).toISOString().substring(0,10);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(D.a,{bg:"dark",variant:"dark",sticky:"top",children:[Object(a.jsx)(D.a.Brand,{href:"#",as:R.b,to:{pathname:"/"},children:"Covid-tracker"}),Object(a.jsx)(I.a,(t={variant:"dark",style:{alignSelf:"center"},as:R.b,to:{pathname:"/countries"}},Object(_.a)(t,"style",{textDecoration:"none"}),Object(_.a)(t,"children","Orsz\xe1gok"),t)),Object(a.jsxs)(N.a,{style:{marginLeft:"auto"},children:[Object(a.jsxs)(N.a.Link,{as:"li",style:{alignSelf:"center"},children:["Utols\xf3 API friss\xedt\xe9s d\xe1tuma: ",o]}),Object(a.jsx)(I.a,{variant:"dark",onClick:n,style:{alignSelf:"center"},children:"Adatok friss\xedt\xe9se"}),Object(a.jsx)(N.a.Link,{href:"https://github.com/raczmate/covid-tracker",target:"_blank",style:{color:"white"},children:Object(a.jsx)(v.a,{icon:L.a,size:"3x",color:"white"})})]})]})})},B=n(111),T=n(104),A=n(3),E=n.n(A),M=n(42),G=n.n(M);function P(e){switch(e){case"Confirmed":return C.a;case"Deaths":return C.c;case"Recovered":return C.e;default:return C.b}}function U(e){var t,n,r,o,c,s=e.data;return Object(a.jsxs)(B.a,{style:{padding:null!==(t=s.padding)&&void 0!==t?t:"0.5rem",borderRadius:"0.5rem",marginTop:null!==(n=s.topMargin)&&void 0!==n?n:"2rem",backgroundRepeat:"no-repeat",marginBottom:null!==(r=s.bottomMargin)&&void 0!==r?r:"0.5rem"},className:"".concat(s.withShadow?G.a["card-shadow"]:""," ").concat(G.a["covid-card"]),children:[Object(a.jsx)(T.a,{className:G.a["bg-image"],src:s.bgImage,styles:{position:"absolute"}}),!s.Component&&Object(a.jsxs)(B.a.Body,{children:[s.title&&Object(a.jsx)(B.a.Title,{children:s.title}),Object(a.jsx)(B.a.Subtitle,{className:"text-muted",style:{marginBottom:"0.5rem",textShadow:"0 0 2px white"},children:s.subtitle}),Object(a.jsx)(B.a.Text,{style:{color:s.bodyColor?s.bodyColor:s.black,fontWeight:"500",float:s.icon?"left":"none",fontSize:null!==(o=s.bodyFontSize)&&void 0!==o?o:"1.3rem",textShadow:"0 0 2px white"},children:s.body}),s.icon&&Object(a.jsx)(B.a.Text,{style:{float:"right",textShadow:"0 0 2px white"},children:Object(a.jsx)(v.a,{icon:P(s.icon),style:{color:null!==(c=s.bodyColor)&&void 0!==c?c:"black"},size:"4x"})})]}),s.Component&&Object(a.jsx)(s.Component,{})]})}U.prototype={data:E.a.shape({title:E.a.string,subtitle:E.a.string,body:E.a.string,bodyFontSize:E.a.string,bodyColor:E.a.string,bgImage:E.a.string,icon:E.a.string,padding:E.a.string,topMargin:E.a.string,withShadow:E.a.bool,Component:E.a.element})};var W=U,J=n(105),H=n(106),V=function(e){return Number.isInteger(e)?e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,"."):e};var K=function(){var e=j().Global;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"display-4 text-center text-md-left",children:"Glob\xe1lis adatok"}),Object(a.jsxs)(J.a,{children:[Object(a.jsx)(H.a,{lg:4,sm:12,children:Object(a.jsx)(W,{data:{title:"\xdaj esetek sz\xe1ma",bodyColor:"red",body:V(e.NewConfirmed)+" f\u0151",subtitle:"Az elm\xfalt 24 \xf3r\xe1ban",icon:"Confirmed",bgImage:"https://upload.wikimedia.org/wikipedia/commons/a/ad/BlankMap-World_gray.svg",withShadow:!0}})}),Object(a.jsx)(H.a,{lg:4,sm:12,children:Object(a.jsx)(W,{data:{title:"\xdaj elhal\xe1loz\xe1sok sz\xe1ma",bodyColor:"red",body:V(e.NewDeaths)+" f\u0151",subtitle:"Az elm\xfalt 24 \xf3r\xe1ban",icon:"Deaths",bgImage:"https://upload.wikimedia.org/wikipedia/commons/a/ad/BlankMap-World_gray.svg",withShadow:!0}})}),Object(a.jsx)(H.a,{lg:4,sm:12,children:Object(a.jsx)(W,{data:{title:"\xdaj gy\xf3gyultak sz\xe1ma",bodyColor:"green",body:V(e.NewRecovered)+" f\u0151",subtitle:"Az elm\xfalt 24 \xf3r\xe1ban",icon:"Recovered",bgImage:"https://upload.wikimedia.org/wikipedia/commons/a/ad/BlankMap-World_gray.svg",withShadow:!0}})})]})]})};var Q=function(e){var t=e.country,n=t.CountryCode.toLowerCase();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(J.a,{children:[Object(a.jsx)(H.a,{lg:4,sm:12,children:Object(a.jsx)(W,{style:{marginBottom:"30rem"},data:{title:"\xdaj esetek sz\xe1ma",bodyColor:"red",body:V(t.NewConfirmed)+" f\u0151",subtitle:"Az elm\xfalt 24 \xf3r\xe1ban",icon:"Confirmed",bgImage:"http://www.geonames.org/flags/x/".concat(n,".gif"),withShadow:!0}})}),Object(a.jsx)(H.a,{lg:4,sm:12,children:Object(a.jsx)(W,{data:{title:"\xdaj elhal\xe1loz\xe1sok sz\xe1ma",bodyColor:"red",body:V(t.NewDeaths)+" f\u0151",subtitle:"Az elm\xfalt 24 \xf3r\xe1ban",icon:"Deaths",bgImage:"http://www.geonames.org/flags/x/".concat(n,".gif"),withShadow:!0}})}),Object(a.jsx)(H.a,{lg:4,sm:12,children:Object(a.jsx)(W,{data:{title:"\xdaj gy\xf3gyultak sz\xe1ma",bodyColor:"green",body:V(t.NewRecovered)+" f\u0151",subtitle:"Az elm\xfalt 24 \xf3r\xe1ban",icon:"Recovered",bgImage:"http://www.geonames.org/flags/x/".concat(n,".gif"),withShadow:!0}})})]})})};var q=function(){var e=j().Countries,t=localStorage.getItem("preferredCountry"),n=e.find((function(e){return e.Country===t}));return n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"display-4 text-center text-md-left",children:"Helyi adatok"}),Object(a.jsx)(Q,{country:n})]}):null},X=n(108),Y=function(e){var t=e.addCountry,n=e.removeCountry,r=e.selected,o=j().Countries;return o.map((function(e){return e.Country})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{children:Object(a.jsx)(H.a,{xs:12,md:6,className:"mt-2 mx-auto",children:Object(a.jsxs)(X.a,{children:[Object(a.jsx)(X.a.Toggle,{variant:"info",id:"dropdown-basic",children:"Orsz\xe1g kiv\xe1laszt\xe1sa"}),Object(a.jsx)(X.a.Menu,{children:o.map((function(e){return Object(a.jsx)(X.a.Item,{onClick:r.includes(e)?function(){return n(e)}:function(){return t(e)},style:{backgroundColor:r.includes(e)?"LightSlateGrey":"white"},children:e.Country},e.Country)}))})]})})}),r.map((function(e){return Object(a.jsx)(Q,{country:e},e.Country)}))]})},Z=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(W,{data:{Component:K,padding:"4rem"}}),Object(a.jsx)(W,{data:{Component:q,padding:"4rem"}})]})},$=n(34),ee=[];function te(e,t){switch(t.type){case"ADD":return e.includes(t.payload)?Object($.a)(e):[].concat(Object($.a)(e),[t.payload]);case"REMOVE":return e.includes(t.payload)?e.filter((function(e){return e.Country!==t.payload.Country})):Object($.a)(e);case"RESET":return e.length=0,Object($.a)(e);default:throw new Error("Helytelen m\u0171velet!")}}var ne=function(){var e=Object(r.useReducer)(te,ee),t=Object(u.a)(e,2),n=t[0],o=t[1];return Object(a.jsx)("div",{children:Object(a.jsx)(Y,{addCountry:function(e){return o({type:"ADD",payload:e})},removeCountry:function(e){return o({type:"REMOVE",payload:e})},selected:n})})},ae=n(7),re=n(107);var oe=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(!0),s=Object(u.a)(c,2),i=s[0],b=s[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x().then((function(e){if(e.error)throw Error("Sikertelen api h\xedv\xe1s");o(e),b(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n&&!i||setTimeout((function(){e()}),1500)}),[i]),Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O().then((function(e){e.error?console.log("Sikertelen lok\xe1ci\xf3 lek\xe9r\xe9s..."):localStorage.setItem("preferredCountry",e.country)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();localStorage.getItem("preferredCountry")||e()}),[]),i?Object(a.jsx)(z,{}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(h.Provider,{value:n,children:Object(a.jsxs)(R.a,{children:[Object(a.jsx)(F,{refreshData:function(){return b(!0)}}),Object(a.jsx)(re.a,{fluid:!0,children:Object(a.jsxs)(ae.c,{children:[Object(a.jsx)(ae.a,{exact:!0,path:"/",component:Z}),Object(a.jsx)(ae.a,{exact:!0,path:"/countries",component:ne}),Object(a.jsx)(ae.a,{path:"*",component:Z})]})})]})})})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(oe,{})}),document.getElementById("root")),ce()}},[[99,1,2]]]);
//# sourceMappingURL=main.a585927e.chunk.js.map